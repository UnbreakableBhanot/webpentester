import requests
from bs4 import BeautifulSoup
from urllib.parse import urlparse, urljoin

class VulnerabilityScanner:
    def __init__(self, target_url):
        self.target_url = target_url
        self.session  = requests.Session()
        self.visited_urls = sets()
        self.vulnerabilities = []

    def is_url_internal(self, url):
        return urlparse(url).netloc == urlparse(self.target_url).netloc

    def crawl_and_scan(self, url):
        if url in self.visited_urls:
            return
        self.visited_urls.add(url)
        
        print(f"Scanning URL: {url}")

        try:
            response = self.session.get(url)
            response.raise_for_status()

         except requests.exceptions.RequestException as e:
            print("Error:", e)